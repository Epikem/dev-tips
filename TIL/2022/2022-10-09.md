# log 2022-10-09

--------------------------

- [blog](#blog)
- [study](#study)
- [tags](#tags)

## blog

## study

전체 애플리케이션 크기가 메모리에 항상 들어간다면 redis를 써도 되겠지만, 히스토리성 정보가 계속 쌓이는데, 그게 또한 검색이 되어야 하는 정보라면 결국 db가 필요하다..

redis에 스냅샷 찍는 방식인 RDB방식과, Append only log를 사용하는 방식인 AOF 방식이 있다.

음..

메모리냐 파일이냐를 상관없이 적절하게 지정해서 저장/가져올 수 있고, 키 기반으로 cqrs를 한다면 고민을 안해도 되지 않을까.

```md
[file]
- table noti
  - user_id
  - notified

```

문제는, cqrs를 하더라도, 자신의 읽기 쓰기 같은 최종적 일관성/합의 등의 문제가 생긴다는 것.
js file을 써보려 했는데, 특정 위치부터 보도록 하는게 어렵다.
따라서, append log와 별개로 현재 상태를 나타내고 싶은데, 그건 또 히스토리성 과거 데이터 보여줄때 어떻게 할 것인가에 대한 문제가 생긴다.

cqrs같은 방법으로 한다면, 은행기록처럼 필요에 따라 매우 과거의 데이터를 보여줘야 하는 경우는 어떻게 해야 하나?
-> 뷰 최적화된 데이터베이스에서 질의할 듯..


## tags
- blog

--------------------------


