# log 2022-01-13

--------------------------

- [job](#job)
  - [GOP-14062 작업 - rxjs 테스트 설계](#gop-14062-작업---rxjs-테스트-설계)
- [tags](#tags)


## job

### GOP-14062 작업 - rxjs 테스트 설계

rxjs에서 만드는 중.

어떤 식으로 끝 상태를 표현하고 체크해야 할까?
일단 rxjs 거의 안 쓰고 각 유저의 행동을 만들기는 했는데, ws가 아니다 보니 서버쪽에서 알려주는 그런 양방향 상호작용과는 거리가 먼 상태이다.
for 및 함수를 통한 pull 방식 처리가 되어서, 이대로는 서버 측면의 핸들링 흐름을 만들 수가 없다. 이를 변경하려면, 이런 요청들을 묶어서 하나의 out stream으로 바꾸어야 할 것이다.

근데 또 그저 명시되어있는 action들을 가진 유저 그대로는 어떤 시간 간격을 가진 액션 흐름으로 만들 수가 없다. 따라서
global userActionStream observable을 만들어서, 서버가 구독하게 하고, 유저 기반 실행을 통해 액션을 출력시키면 될 듯하다.

또한, 최종 상태를 비교해서 체크하기 위해 각 처리한 액션을 로그로 남겨서 체크할 지, 각 상태들을 남겨서 체크할 지, 둘 다 해야하는지, 또는 그냥 최종 상태만 체크할 지 그런 부분들이 애매하다.


아 `Observable`은 그 안에서 바로 subscriber 함수 선언해야 해서 어떻게 해야 하나 고민했는데, `Subject`를 쓰면 될 것 같다.


## tags
- blog
- job
- rxjs

--------------------------

